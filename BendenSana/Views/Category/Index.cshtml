@model IEnumerable<Category>
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Site's Categories</title>
    <link href="https://fonts.googleapis.com/css2?family=ABeeZee&family=Inter:wght@400;500;600&family=Neue+Montreal:wght@400;500&family=Poppins:wght@600&family=Source+Sans+Pro:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Source Sans Pro', sans-serif;
            background-color: #F8F9FA;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        /* Kartların içindeki alt kategori rozetleri (badge) stili */
        .subcategory-badge {
            background: #F5F5F5;
            border-radius: 4px;
            padding: 2px 9px;
            color: #454545;
            font-size: 13px;
            line-height: 24px;
            display: inline-block;
            margin-right: 8px;
            margin-bottom: 8px;
            font-family: 'Source Sans Pro', sans-serif;
        }

        /* Buton efektleri */
        .action-btn:hover {
            background-color: #FFF0F0 !important;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div style="width: 1442px; min-height: 100vh; position: relative; background: #F8F9FA; overflow-x: hidden;">

        <div style="width: 240px; min-height: 100vh; position: fixed; left: 0; top: 0; background: black; display: flex; flex-direction: column; z-index: 100;">
            <div style="height: 64px; padding: 32px 32px 16px 32px; display: flex; justify-content: space-between; align-items: center;">
                <div style="color: white; font-size: 20px; font-weight: bold; font-family: 'Inter';">Brand.</div>
                <div style="width: 40px; height: 40px; background: #DB4444; border-radius: 8px; display: flex; justify-content: center; align-items: center;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M15 18l-6-6 6-6" /></svg>
                </div>
            </div>

            <div style="padding: 16px 32px; display: flex; flex-direction: column; gap: 8px;">
                <div style="height: 48px; padding: 0 12px; border-radius: 8px; display: flex; align-items: center; color: white; font-family: ABeeZee; font-size: 14px; text-transform: uppercase;">Dashboard</div>
                <div style="height: 48px; padding: 0 12px; border-radius: 8px; display: flex; align-items: center; color: white; font-family: ABeeZee; font-size: 14px; text-transform: uppercase;">Costumers</div>
                <div style="height: 48px; padding: 0 12px; background: #343A40; border-radius: 8px; display: flex; align-items: center; color: white; font-family: ABeeZee; font-size: 14px; text-transform: uppercase;">site’s Categories</div>
                <div style="height: 48px; padding: 0 12px; border-radius: 8px; display: flex; align-items: center; color: white; font-family: ABeeZee; font-size: 14px; text-transform: uppercase;">sikayet edilen urunler</div>
            </div>

            <div style="padding: 32px 32px; display: flex; flex-direction: column; gap: 16px;">
                <div style="color: #979797; font-size: 14px; font-weight: 500; text-transform: uppercase; font-family: 'Neue Montreal';">Settings</div>
                <div style="height: 48px; padding: 0 12px; border-radius: 8px; display: flex; align-items: center; color: white; gap: 8px;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                    <span style="font-family: 'Neue Montreal'; font-size: 14px; font-weight: 500; text-transform: uppercase;">Messages</span>
                </div>
            </div>
        </div>

        <div style="position: absolute; left: 298px; top: 16px; width: calc(100% - 330px); display: flex; justify-content: flex-end; gap: 8px;">
            <div style="padding: 8px; background: white; border-radius: 8px; border: 1px solid #E9ECEF; position: relative; width: 40px; height: 40px; display:flex; justify-content:center; align-items:center;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#212529" stroke-width="1.5"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
                <div style="position: absolute; top: 8px; right: 8px; width: 8px; height: 8px; background: #FF1F25; border-radius: 50%;"></div>
            </div>
            <div style="padding: 8px; background: white; border-radius: 8px; border: 1px solid #E9ECEF; width: 40px; height: 40px; display:flex; justify-content:center; align-items:center;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#212529" stroke-width="1.5"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
            </div>
            <div style="padding: 8px 12px; background: white; border-radius: 8px; border: 1px solid #E9ECEF; display: flex; align-items: center; gap: 8px;">
                <span style="font-family: 'Neue Montreal'; font-size: 14px; font-weight: 500;">Derek Alvarado</span>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ADB5BD" stroke-width="2"><path d="M6 9l6 6 6-6" /></svg>
            </div>
        </div>

        <div style="position: absolute; left: 298px; top: 99px; display: flex; flex-direction: column; gap: 20px;">
            <div style="display: flex; align-items: center; gap: 16px;">
                <div style="width: 20px; height: 40px; background: #DB4444; border-radius: 4px;"></div>
                <div style="color: #DB4444; font-size: 16px; font-family: Poppins; font-weight: 600;">Featured</div>
            </div>

            <div style="display: flex; justify-content: space-between; align-items: center; width: 1060px;">
                <div style="color: black; font-size: 36px; font-family: Inter; font-weight: 600; letter-spacing: 1.44px;">Allowed Categories For Sale Inside Site</div>
                <a href="@Url.Action("Create")" style="background: black; color: white; padding: 10px 20px; border-radius: 8px; font-family: Inter; font-size: 14px;">+ Add Category</a>
            </div>
        </div>

        <div style="position: absolute; left: 298px; top: 258px; width: 1063px; display: flex; flex-direction: column; gap: 30px; padding-bottom: 50px;">

            @if (Model != null)
            {
                foreach (var item in Model)
                {
                    <div style="background: white; border: 1px solid #D3D3D3; border-radius: 5px; box-shadow: 0px 0px 30px 3px rgba(0,0,0,0.03); min-height: 200px; position: relative; display: flex; padding: 20px;">

                        <div style="width: 140px; height: 150px; border: 1px solid #D3D3D3; border-radius: 5px; display: flex; justify-content: center; align-items: center; overflow: hidden; margin-right: 24px;">
                            @if (!string.IsNullOrEmpty(item.ImageUrl))
                            {
                                <img src="@item.ImageUrl" style="max-width: 100%; max-height: 100%; object-fit: contain;" alt="@item.Name" />
                            }
                            else
                            {
                                <span style="color: #ccc;">No Img</span>
                            }
                        </div>

                        <div style="flex: 1; padding-top: 10px;">
                            <div style="color: #1C1A1A; font-size: 16px; font-weight: 600; margin-bottom: 8px; font-family: 'Source Sans Pro';">@item.Name</div>

                            <div style="color: #9B9B9B; font-size: 12px; margin-bottom: 12px; font-family: 'Source Sans Pro';">Sub Categories</div>

                            <div style="display: flex; flex-wrap: wrap;">
                                @if (item.Children != null && item.Children.Any())
                                {
                                    foreach (var child in item.Children)
                                    {
                                        <div class="subcategory-badge">@child.Name</div>
                                    }
                                }
                                else
                                {
                                    <span style="color: #ccc; font-size: 12px; font-family: 'Source Sans Pro';">Alt kategori yok.</span>
                                }
                            </div>
                        </div>

                        <div style="position: absolute; top: 20px; right: 20px; display: flex; gap: 10px;">
                            <a href="@Url.Action("Edit", new { id = item.Id })" class="action-btn" style="display: flex; align-items: center; border: 1px solid #FF4F5A; border-radius: 3px; background: white; padding: 4px 12px; text-decoration: none;">
                                <span style="color: #FF4F5A; font-size: 12px; font-weight: 600; font-family: 'Source Sans Pro';">Edit</span>
                            </a>

                            <form asp-action="Delete" asp-route-id="@item.Id" method="post" onsubmit="return confirm('Bu kategoriyi silmek istediğinize emin misiniz?');" style="margin:0;">
                                <button type="submit" class="action-btn" style="display: flex; align-items: center; border: 1px solid #FF4F5A; border-radius: 3px; background: white; padding: 4px 12px; cursor: pointer;">
                                    <span style="color: #FF4F5A; font-size: 12px; font-weight: 600; font-family: 'Source Sans Pro';">Delete</span>
                                </button>
                            </form>
                        </div>

                    </div>
                }
            }
            else
            {
                <div style="padding: 20px; text-align: center; color: #666;">Hiç kategori bulunamadı.</div>
            }

        </div>

    </div>

</body>
</html>